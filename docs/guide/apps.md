# 应用管理

应用管理是 DooPush 平台的核心功能，为您提供完整的应用生命周期管理。每个应用都是一个独立的推送单元，拥有自己的配置、设备和统计数据。

## 📱 应用概述

在 DooPush 中，**应用**（App）是推送服务的基本单位。每个应用：

- **独立隔离**：应用间数据完全隔离，互不影响
- **多平台支持**：可支持 iOS、Android 或两个平台
- **独立配置**：每个应用有自己的推送配置和 API 密钥
- **统计分析**：拥有独立的推送统计和设备分析

## 📋 应用列表

### 查看应用列表

登录后在左侧导航点击 **"应用管理"** 进入应用列表页面。

**显示信息**：
- **应用名称** - 应用的显示名称
- **包名** - 应用的唯一标识符
- **平台** - 支持的平台（iOS、Android、Both）
- **状态** - 应用状态（正常、禁用）
- **创建时间** - 应用的创建日期

### 搜索和筛选

**搜索功能**：
- 在搜索框中输入关键词
- 支持按应用名称搜索
- 支持按包名搜索
- 实时搜索，无需点击搜索按钮

**应用状态**：
- 🟢 **正常** - 应用可正常使用
- 🔴 **禁用** - 应用被暂停使用

## ➕ 创建应用

### 创建步骤

1. 在应用列表页面点击 **"创建应用"** 按钮
2. 填写应用基本信息
3. 上传应用图标（可选）
4. 点击 **"创建"** 按钮

### 必填信息

#### 📝 应用名称
- **作用**：应用的显示名称，用于界面展示
- **要求**：长度不能超过100个字符
- **示例**：`我的移动应用`、`公司官方APP`

#### 📦 包名 (Package Name)
- **作用**：应用的唯一标识符，用于推送服务识别
- **格式**：域名反向格式，如 `com.company.appname`
- **要求**：
  - 必须与实际应用的包名保持一致
  - 长度不能超过100个字符
  - 只能包含字母、数字、点号、下划线
- **iOS 示例**：`com.yourcompany.yourapp`（Bundle Identifier）
- **Android 示例**：`com.yourcompany.yourapp`（Application ID）

#### 🎯 平台选择
- **iOS** - 仅支持 iOS 平台
- **Android** - 仅支持 Android 平台（SDK 开发中）
- **Both** - 同时支持两个平台

### 可选信息

#### 📄 应用描述
- **作用**：应用的详细描述，帮助团队成员了解应用用途
- **长度**：最多500个字符

#### 🖼️ 应用图标
- **支持格式**：PNG、JPG、JPEG、SVG
- **建议尺寸**：512x512 像素或以上
- **文件大小**：不超过 2MB
- **用途**：在应用列表中显示，便于快速识别

### 创建后操作

应用创建成功后，系统会：
1. 自动选择新创建的应用为当前应用
2. 跳转到应用详情页面
3. 您可以开始配置推送设置和创建 API 密钥

::: tip 💡 重要提醒
包名设置后建议不要修改，因为它与推送配置、设备注册等功能密切相关。
:::

## ✏️ 编辑应用

### 编辑步骤

1. 在应用列表中找到要编辑的应用
2. 点击应用行的 **"..."** 菜单
3. 选择 **"编辑"** 选项
4. 修改应用信息
5. 点击 **"保存"** 按钮

### 可编辑信息

- ✅ **应用名称** - 可以修改显示名称
- ✅ **应用描述** - 可以更新描述信息
- ✅ **应用图标** - 可以更换图标
- ❌ **包名** - 创建后不建议修改
- ❌ **平台** - 创建后不能更改

### 应用状态管理

**启用/禁用应用**：
- **启用状态**：应用可正常接收推送
- **禁用状态**：暂停推送服务，但保留数据
- **切换方式**：通过编辑对话框中的状态开关

## 🗑️ 删除应用

### 删除操作

1. 在应用列表中找到要删除的应用
2. 点击应用行的 **"..."** 菜单
3. 选择 **"删除"** 选项
4. 确认删除操作

### 删除影响

删除应用将：
- ❌ **永久删除应用数据** - 包括推送记录、设备信息等
- ❌ **删除所有 API 密钥** - 相关接口调用将失效
- ❌ **删除推送配置** - iOS/Android 推送配置将被清除
- ❌ **无法恢复** - 删除操作不可逆

::: danger ⚠️ 警告
删除应用是不可逆操作，请确认不再需要该应用的数据后再进行删除。
:::

## 🔑 API 密钥管理

API 密钥是应用与 DooPush 服务器通信的凭证，用于 API 调用认证。

### 查看 API 密钥

1. 在应用列表中找到目标应用
2. 点击应用行的 **"..."** 菜单
3. 选择 **"API 密钥"** 选项
4. 查看该应用的所有 API 密钥

### 创建 API 密钥

**创建步骤**：
1. 在 API 密钥对话框中点击 **"创建 API 密钥"** 按钮
2. 填写密钥信息
3. 设置权限和有效期
4. 点击 **"创建"** 按钮

**必填信息**：

#### 🏷️ 密钥名称
- **作用**：便于识别和管理的名称
- **示例**：`生产环境密钥`、`测试环境密钥`、`第三方集成密钥`
- **要求**：1-100个字符

#### 🔐 权限设置
选择 API 密钥可以访问的功能：

- **推送权限** (`push`) - 发送推送通知
- **设备管理** (`device`) - 注册和管理设备
- **统计查看** (`statistics`) - 查询推送统计数据

#### ⏰ 有效期设置
- **范围**：1-365天
- **默认**：90天
- **建议**：
  - 生产环境：365天
  - 测试环境：30-90天
  - 临时使用：7-30天

### API 密钥信息

**密钥格式**：
- **前缀**：`dp_live_` 或 `dp_test_`
- **完整格式**：`dp_live_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

**显示信息**：
- **密钥名称** - 创建时设置的名称
- **密钥前缀** - 显示前缀部分，如 `dp_live_****`
- **权限列表** - 该密钥拥有的权限
- **状态** - 有效/禁用
- **最后使用时间** - 最近一次 API 调用时间
- **创建时间** - 密钥创建日期
- **到期时间** - 密钥失效日期

### 使用 API 密钥

**获取完整密钥**：
- 密钥只在创建时显示一次
- 立即复制并安全保存
- 丢失后需要重新创建

**API 调用方式**：

```bash
# Header 认证（推荐）
curl -H "Authorization: Bearer your_api_key" \
     -H "Content-Type: application/json" \
     https://doopush.com/api/v1/apps

# Query 参数认证
curl "https://doopush.com/api/v1/apps?api_key=your_api_key"
```

### 密钥安全管理

**安全建议**：
1. **妥善保存** - 将 API 密钥存储在安全的位置
2. **避免泄露** - 不要在代码中硬编码密钥
3. **定期轮换** - 定期更新 API 密钥
4. **最小权限** - 只授予必要的权限
5. **监控使用** - 定期检查密钥使用情况

**发现泄露时**：
1. 立即禁用或删除泄露的密钥
2. 创建新的 API 密钥
3. 更新应用中的密钥配置
4. 检查是否有异常调用

## 📊 应用切换

### 切换应用

在页面顶部的应用选择器中：
1. 点击当前应用名称
2. 从下拉列表中选择目标应用
3. 页面数据会自动更新到选中的应用

### 应用上下文

切换应用后，以下功能会自动切换到新应用：
- 📊 控制台数据统计
- 📱 设备管理和分组
- 📨 推送发送和历史
- ⚙️ 推送配置设置
- 📈 数据分析和报表

## ❓ 常见问题

### Q: 一个账号可以创建多少个应用？
A: 目前没有应用数量限制，您可以根据需要创建多个应用。

### Q: 包名可以修改吗？
A: 不建议修改包名，因为它与推送配置和设备注册相关。如需修改，请重新创建应用。

### Q: 应用删除后可以恢复吗？
A: 不可以。删除操作是永久性的，请在删除前确认不再需要该应用数据。

### Q: API 密钥忘记了怎么办？
A: API 密钥只在创建时显示一次，忘记后需要重新创建新的密钥。

### Q: 如何知道 API 密钥被泄露？
A: 可以通过 API 密钥的"最后使用时间"和您的实际使用情况进行对比，发现异常及时处理。

---

*应用管理是使用 DooPush 的第一步，正确配置应用信息对后续的推送功能至关重要。*
