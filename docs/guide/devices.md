# 设备管理

设备管理是 DooPush 平台的核心功能之一，为您提供全面的用户设备管理能力。通过设备管理，您可以查看用户设备信息、创建设备分组、管理设备标签，实现精准的推送投放。

## 📱 设备概述

在 DooPush 中，**设备**（Device）代表安装了您应用的用户设备。每个设备包含：

- **设备标识**：唯一的推送 Token
- **平台信息**：iOS 或 Android 平台
- **设备信息**：品牌、型号、系统版本等
- **应用信息**：应用版本、最后活跃时间等
- **状态管理**：有效或禁用状态

## 📋 设备列表

### 查看设备列表

在左侧导航点击 **"设备管理"** 进入设备列表页面。

**显示信息**：
- **设备 Token** - 推送通知的唯一标识（显示前8位）
- **平台** - iOS 或 Android
- **品牌** - 设备制造商（如 Apple、华为等）
- **型号** - 设备型号（如 iPhone 14、小米 13 等）
- **系统版本** - 操作系统版本（如 iOS 17.0、Android 13）
- **应用版本** - 您的应用版本号
- **状态** - 设备状态（有效/禁用）
- **最后活跃** - 设备最后一次连接时间

### 设备统计

页面顶部显示设备统计信息：
- **总设备数** - 应用注册的所有设备数量
- **iOS 设备** - iOS 平台设备数量
- **Android 设备** - Android 平台设备数量（SDK 开发中）
- **活跃设备** - 状态为有效的设备数量

### 筛选和搜索

**平台筛选**：
- **全部** - 显示所有平台设备
- **iOS** - 仅显示 iOS 设备
- **Android** - 仅显示 Android 设备

**状态筛选**：
- **全部** - 显示所有状态设备
- **有效** - 仅显示可接收推送的设备
- **禁用** - 仅显示被禁用的设备

**搜索功能**：
- 支持按设备 Token 搜索
- 支持按设备型号搜索
- 支持按用户代理搜索
- 实时搜索，输入即时筛选

### 设备操作

**查看详情**：
- 点击设备行查看完整的设备信息
- 包含完整的 Token、设备参数、注册时间等

**启用/禁用设备**：
- 禁用设备后将无法接收推送通知
- 可随时重新启用设备
- 适用于处理无效或问题设备

## 👥 设备分组

设备分组功能允许您将设备按特定条件分类，实现精准推送。

### 查看设备分组

在左侧导航点击 **"设备分组"** 进入分组管理页面。

**分组信息**：
- **分组名称** - 分组的显示名称
- **分组描述** - 分组用途说明
- **设备数量** - 该分组包含的设备数量
- **过滤规则** - 分组的筛选条件
- **创建时间** - 分组创建日期

### 创建设备分组

**创建步骤**：
1. 点击 **"创建分组"** 按钮
2. 填写分组基本信息
3. 设置过滤规则
4. 点击 **"创建"** 按钮

**基本信息**：

#### 📝 分组名称
- **要求**：必填，便于识别的名称
- **示例**：`iOS 用户`、`VIP 会员`、`新用户群体`

#### 📄 分组描述
- **作用**：说明分组用途和特征
- **示例**：`所有使用 iOS 平台的用户`

#### ⚙️ 过滤规则
设置设备筛选条件，支持多种规则组合：

**平台规则**：
- **条件**：`platform` 等于 `ios` 或 `android`
- **用途**：按设备平台分组

**设备型号规则**：
- **条件**：`model` 包含特定关键词
- **示例**：`iPhone`、`小米`、`华为`

**系统版本规则**：
- **条件**：`system_version` 符合版本要求
- **示例**：`>= iOS 15.0`、`Android 12`

**应用版本规则**：
- **条件**：`app_version` 符合版本要求
- **示例**：`>= 1.2.0`、`< 2.0.0`

**活跃时间规则**：
- **条件**：`last_seen` 在指定时间范围
- **示例**：最近7天、最近30天活跃

### 编辑设备分组

**编辑操作**：
1. 在分组列表中找到目标分组
2. 点击 **"编辑"** 按钮
3. 修改分组信息或过滤规则
4. 点击 **"保存"** 按钮

**可编辑内容**：
- ✅ 分组名称和描述
- ✅ 过滤规则
- ❌ 分组创建时间（不可修改）

### 分组应用场景

**按平台分组**：
- **iOS 用户组**：针对 iOS 用户的推送
- **Android 用户组**：针对 Android 用户的推送

**按版本分组**：
- **新版本用户**：推送新功能介绍
- **旧版本用户**：推送升级提醒

**按活跃度分组**：
- **活跃用户**：推送日常运营内容
- **流失用户**：推送召回活动

**按设备特征分组**：
- **高端设备用户**：推送高质量内容
- **特定品牌用户**：推送品牌相关活动

## 🏷️ 设备标签

设备标签是更灵活的设备分类方式，允许为设备添加自定义的键值对标签。

### 查看标签统计

在左侧导航点击 **"设备标签"** 进入标签管理页面，默认显示 **"标签统计"** 标签页。

**统计信息**：
- **标签名称** - 标签的名称（如 `user_level`、`city`）
- **标签值** - 该标签名下的所有值（如 `gold`、`silver`、`bronze`）
- **设备数量** - 拥有该标签值的设备数量
- **占比** - 该标签值在所有设备中的占比

**常见标签示例**：
- `user_level`: `vip`, `normal`, `premium`
- `city`: `beijing`, `shanghai`, `guangzhou`
- `age_group`: `18-25`, `26-35`, `36-45`
- `interest`: `sports`, `technology`, `entertainment`

### 管理设备标签

切换到 **"标签管理"** 标签页可以管理具体的设备标签。

**显示信息**：
- **设备 Token** - 设备标识（前8位）
- **标签名称** - 标签的键名
- **标签值** - 标签的值
- **创建时间** - 标签添加时间

### 添加设备标签

**添加步骤**：
1. 点击 **"添加标签"** 按钮
2. 填写标签信息
3. 点击 **"添加"** 按钮

**标签信息**：

#### 📱 设备 Token
- **要求**：必填，指定要添加标签的设备
- **格式**：完整的设备推送 Token
- **获取方式**：从设备列表复制或通过 SDK 获取

#### 🏷️ 标签名称
- **要求**：必填，标签的键名
- **格式**：建议使用英文和下划线
- **示例**：`user_level`、`city`、`interest`

#### 💎 标签值
- **要求**：必填，标签的值
- **格式**：支持中文、英文、数字
- **示例**：`vip`、`北京`、`sports`

### 编辑和删除标签

**编辑标签**：
1. 在标签列表中找到目标标签
2. 点击 **"编辑"** 按钮
3. 修改标签名称或标签值
4. 点击 **"保存"** 按钮

**删除标签**：
1. 在标签列表中找到目标标签
2. 点击 **"删除"** 按钮
3. 确认删除操作

### 标签应用场景

**用户分层**：
- `user_level`: `vip`, `gold`, `silver`, `bronze`
- 用于不同等级用户的差异化推送

**地理位置**：
- `city`: `beijing`, `shanghai`, `guangzhou`
- 用于地域性活动和内容推送

**兴趣偏好**：
- `interest`: `sports`, `music`, `technology`
- 用于个性化内容推荐

**使用行为**：
- `frequency`: `high`, `medium`, `low`
- 用于基于使用频率的推送策略

## 🎯 精准推送应用

设备管理的最终目标是实现精准推送，提高推送效果。

### 基于分组的推送

**优势**：
- 条件明确，逻辑清晰
- 适合较大规模的用户群体
- 便于批量管理

**应用场景**：
- 按平台推送（iOS/Android 差异化内容）
- 按版本推送（功能更新通知）
- 按活跃度推送（召回流失用户）

### 基于标签的推送

**优势**：
- 更加灵活，支持复杂组合条件
- 适合精细化运营
- 便于 A/B 测试

**应用场景**：
- 用户分层推送（VIP 专享内容）
- 地域推送（本地化活动）
- 兴趣推送（个性化推荐）

### 组合使用策略

**分组 + 标签**：
```
目标用户 = iOS平台用户 AND user_level=vip AND city=beijing
```

**多标签组合**：
```
目标用户 = user_level=vip OR user_level=gold
```

## 📊 数据分析

### 设备趋势分析

**设备增长**：
- 监控每日新增设备数量
- 分析设备增长趋势
- 评估推广效果

**平台分布**：
- iOS vs Android 设备占比
- 不同平台的活跃度对比
- 平台推送效果分析

### 分组效果分析

**分组质量**：
- 各分组的设备数量分布
- 分组规则的覆盖率
- 重叠分组的识别

**推送效果**：
- 不同分组的推送成功率
- 各分组的点击率对比
- 分组推送的转化效果

## ❓ 常见问题

### Q: 设备 Token 是什么？
A: 设备 Token 是推送服务分配给每个设备的唯一标识，用于精确推送到特定设备。

### Q: 为什么要禁用设备？
A: 当设备 Token 失效、用户卸载应用或需要暂停推送时，可以禁用设备避免推送失败。

### Q: 设备分组和标签有什么区别？
A: 分组基于固定规则自动筛选设备，标签是手动为设备添加的自定义属性，更加灵活。

### Q: 如何批量管理设备标签？
A: 可以通过 API 接口批量添加标签，或使用导入功能批量管理。

### Q: 设备信息多久更新一次？
A: 设备信息在应用启动和后台活跃时更新，通常是实时的。

---

*设备管理是实现精准推送的基础，合理使用分组和标签功能可以显著提高推送效果。*
